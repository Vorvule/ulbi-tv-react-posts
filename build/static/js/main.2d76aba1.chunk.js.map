{"version":3,"sources":["components/ui/modal/Mod.module.css","components/ui/button/But.module.css","components/ui/input/Inp.module.css","components/ui/loader/Loader.module.css","context/context.js","components/ui/button/But.jsx","components/ui/navbar/Navbar.jsx","pages/About.jsx","components/ui/input/Inp.jsx","pages/Login.jsx","api/PostService.js","components/ui/loader/Loader.jsx","hooks/useFetch.js","pages/PostIdPage.jsx","components/PostItem.jsx","components/PostList.jsx","components/PostForm.jsx","components/ui/select/Sel.jsx","components/PostFilter.jsx","components/ui/modal/Mod.jsx","hooks/usePosts.js","utils/pages.js","components/ui/pagination/Pagination.jsx","pages/Posts.jsx","router/routes.js","hooks/useObserver.js","components/AppRouter.jsx","App.js","index.js"],"names":["module","exports","AuthContext","createContext","But","children","props","className","classes","btn","Navbar","setIsAuth","useContext","onClick","localStorage","removeItem","to","About","Inp","React","forwardRef","ref","inp","Login","onSubmit","event","preventDefault","setItem","type","placeholder","PostService","limit","page","axios","get","params","_limit","_page","response","id","Loader","style","loader","useFetch","callback","useState","isLoading","setIsLoading","error","setError","a","message","PostIdPage","useParams","post","setPost","comments","setComments","getById","data","fetchPostById","getCommentById","fetchComments","isCommLoading","useEffect","title","map","comment","email","body","Postitem","router","useHistory","push","remove","PostList","posts","length","textAlign","TransitionGroup","index","CSSTransition","timeout","classNames","PostItem","number","PostForm","create","value","onChange","e","target","newPost","Date","now","Sel","options","defaultValue","disabled","option","name","PostFilter","filter","setFilter","query","sort","selectedSort","Mod","visible","setVisible","rootClasses","mod","active","join","modContent","stopPropagation","usePosts","sortedPosts","useMemo","b","localeCompare","useSortedPosts","toLowerCase","includes","getPageCount","totalCount","Math","ceil","Pagination","totalPages","changePage","pagesArray","result","i","getPagesArray","p","Posts","privateRoutes","path","component","exact","setPosts","modal","setModal","setTotalPages","setLimit","setPage","sortedAndSearchedPosts","lastElement","useRef","getAll","headers","fetchPosts","isPostLoading","postError","canLoad","observer","current","disconnect","IntersectionObserver","entries","isIntersecting","observe","useObserver","marginTop","display","justifyContent","height","background","publicRoutes","AppRouter","isAuth","route","App","getItem","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2d76aba1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mod\":\"Mod_mod__WJBCJ\",\"modContent\":\"Mod_modContent__14KVI\",\"active\":\"Mod_active__qDsaZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"But_btn__DEFDt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inp\":\"Inp_inp__2rQWs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3GTER\",\"rotate\":\"Loader_rotate__23GyG\"};","import { createContext } from \"react\";\r\n\r\nexport const AuthContext = createContext(null)","import React from 'react';\r\nimport classes from './But.module.css'\r\n\r\nconst But = ({ children, ...props }) => {\r\n    return (\r\n        <button {...props} className={classes.btn}>\r\n            {children}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default But","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { AuthContext } from '../../../context/context'\r\nimport But from '../button/But'\r\n\r\nconst Navbar = () => {\r\n\r\n    const { setIsAuth } = useContext(AuthContext)\r\n\r\n    const logout = () => {\r\n        setIsAuth(false)\r\n        localStorage.removeItem('auth')\r\n    }\r\n\r\n    return (\r\n        <div className='navbar'>\r\n            <But onClick={logout}>\r\n                Veetee\r\n            </But>\r\n            <div className='navbar__links'>\r\n                <Link to='/about'>About</Link>\r\n                <Link to='/posts'>Posts</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n","import React from 'react'\r\n\r\nfunction About() {\r\n    return (\r\n        <div>\r\n            About\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default About","import React from 'react';\r\nimport classes from './Inp.module.css';\r\n\r\nconst Inp = React.forwardRef((props, ref) => {\r\n    return (\r\n        <input ref={ref} className={classes.inp} {...props} />\r\n    )\r\n})\r\n\r\nexport default Inp","import React, { useContext } from 'react'\r\nimport But from '../components/ui/button/But'\r\nimport Inp from '../components/ui/input/Inp'\r\nimport { AuthContext } from '../context/context'\r\n\r\nconst Login = () => {\r\n\r\n    const { setIsAuth } = useContext(AuthContext)\r\n\r\n\r\n    const login = event => {\r\n        event.preventDefault()\r\n        setIsAuth(true)\r\n        localStorage.setItem('auth', 'true')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login page</h1>\r\n            <form onSubmit={login}>\r\n                <Inp type='text' placeholder='Login' />\r\n                <Inp type='password' placeholder='Password' />\r\n                <But>Voetee</But>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import axios from 'axios';\r\n\r\n\r\nexport default class PostService {\r\n\r\n    static async getAll(limit = 10, page = 1) {\r\n        const response = await axios.get('https://jsonplaceholder.typicode.com/posts', {\r\n            params: {\r\n                _limit: limit,\r\n                _page: page\r\n            }\r\n        })\r\n        return response\r\n    }\r\n\r\n    static async getById(id) {\r\n        const response = await axios.get('https://jsonplaceholder.typicode.com/posts/' + id)\r\n        return response\r\n    }\r\n\r\n    static async getCommentById(id) {\r\n        const response = await axios.get('https://jsonplaceholder.typicode.com/posts/' + id + '/comments')\r\n        return response\r\n    }\r\n\r\n}","import React from 'react';\r\nimport style from './Loader.module.css'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <div className={style.loader}>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader","import { useState } from \"react\"\r\n\r\nexport const useFetch = (callback) => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const [error, setError] = useState('')\r\n\r\n    const fetching = async (...args) => {\r\n        try {\r\n            setIsLoading(true)\r\n            await callback(...args)\r\n        } catch (e) {\r\n            setError(e.message)\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    return [fetching, isLoading, error]\r\n}","import React, { useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router'\r\nimport PostService from '../api/PostService'\r\nimport Loader from '../components/ui/loader/Loader'\r\nimport { useFetch } from '../hooks/useFetch'\r\n\r\nconst PostIdPage = () => {\r\n\r\n    const params = useParams()\r\n    const [post, setPost] = useState({})\r\n    const [comments, setComments] = useState([])\r\n\r\n    const [fetchPostById, isLoading] = useFetch(async (id) => {\r\n        const response = await PostService.getById(id)\r\n        setPost(response.data)\r\n    })\r\n    const [fetchComments, isCommLoading] = useFetch(async (id) => {\r\n        const response = await PostService.getCommentById(id)\r\n        setComments(response.data)\r\n    })\r\n\r\n    useEffect(() => {\r\n        fetchPostById(params.id)\r\n        fetchComments(params.id)\r\n    }, [fetchComments, fetchPostById, params.id])\r\n\r\n    return (\r\n        <div>\r\n            {isLoading\r\n                ? <Loader />\r\n                : <div key={post.id}>{post.id}.{post.title}</div>\r\n            }\r\n            {isCommLoading\r\n                ? <Loader />\r\n                : <div>\r\n                    {\r\n                        comments.map(comment =>\r\n                            <div key={comment.id}>\r\n                                <div>{comment.email}</div>\r\n                                <div>{comment.body}</div>\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostIdPage\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport But from './../components/ui/button/But'\r\n\r\nconst Postitem = (props) => {\r\n\r\n    const router = useHistory()\r\n\r\n    return (\r\n        <div className='post'>\r\n            <div className='post__content'>\r\n                <strong>{props.post.id}. {props.post.title}</strong>\r\n                <div>\r\n                    {props.post.body}\r\n                </div>\r\n            </div>\r\n            <div className='post__button'>\r\n                <But onClick={() => router.push(`/posts/${props.post.id}`)}>\r\n                    Odcreate\r\n                </But>\r\n                <But onClick={() => props.remove(props.post)}>\r\n                    Udalete\r\n                </But>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Postitem","import React from 'react';\r\nimport { TransitionGroup } from 'react-transition-group';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport PostItem from './PostItem';\r\n\r\nconst PostList = ({ posts, title, remove }) => {\r\n\r\n    if (!posts.length) {\r\n        return (\r\n            <div>No posts found</div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1 style={{ textAlign: 'center' }}>\r\n                {title}\r\n            </h1>\r\n            <TransitionGroup>\r\n                {posts.map((post, index) =>\r\n                    <CSSTransition\r\n                        key={post.id}\r\n                        timeout={500}\r\n                        classNames='post'\r\n                    >\r\n                        <PostItem\r\n                            remove={remove}\r\n                            number={index + 1}\r\n                            post={post}\r\n                        />\r\n                    </CSSTransition>\r\n                )}\r\n            </TransitionGroup>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostList","import React from 'react';\r\nimport { useState } from \"react\";\r\nimport But from './../components/ui/button/But';\r\nimport Inp from './../components/ui/input/Inp';\r\n\r\nconst PostForm = ({ create }) => {\r\n\r\n    const [post, setPost] = useState({ title: '', body: '' })\r\n\r\n    const addNewPost = (e) => {\r\n        e.preventDefault()\r\n        const newPost = {\r\n            ...post, id: Date.now()\r\n        }\r\n        create(newPost)\r\n        setPost({ title: '', body: '' })\r\n    }\r\n\r\n    return (\r\n        <form>\r\n            <Inp\r\n                type='text'\r\n                placeholder='Name'\r\n                value={post.title}\r\n                onChange={e => setPost({ ...post, title: e.target.value })}\r\n            />\r\n            <Inp\r\n                type='text'\r\n                placeholder='Desc'\r\n                value={post.body}\r\n                onChange={e => setPost({ ...post, body: e.target.value })}\r\n            />\r\n            <But onClick={addNewPost}>Post It</But>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PostForm","import React from 'react';\r\n\r\nconst Sel = ({ options, defaultValue, value, onChange }) => {\r\n    return (\r\n\r\n        <select value={value} onChange={e => onChange(e.target.value)}>\r\n\r\n            <option disabled value=''>{defaultValue}</option>\r\n\r\n            {options.map(option =>\r\n                <option\r\n                    key={option.name}\r\n                    value={option.value}\r\n                >\r\n                    {option.name}\r\n                </option>\r\n            )}\r\n\r\n        </select>)\r\n\r\n}\r\n\r\nexport default Sel","import React from 'react';\r\nimport Sel from './ui/select/Sel'\r\nimport Inp from './ui/input/Inp'\r\n\r\nconst PostFilter = ({ filter, setFilter }) => {\r\n    return (\r\n        <div>\r\n            <Inp\r\n                value={filter.query}\r\n                placeholder='Search'\r\n                onChange={e => setFilter({ ...filter, query: e.target.value })}\r\n            >\r\n\r\n            </Inp>\r\n            <Sel\r\n                defaultValue='Sort By'\r\n                value={filter.sort}\r\n                onChange={selectedSort => setFilter({ ...filter, sort: selectedSort })}\r\n                options={[\r\n                    { value: 'title', name: 'By Name' },\r\n                    { value: 'body', name: 'By Desc' }\r\n                ]}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default PostFilter","import React from 'react';\r\nimport style from './Mod.module.css'\r\n\r\nconst Mod = ({ children, visible, setVisible }) => {\r\n\r\n    const rootClasses = [style.mod]\r\n    if (visible) {\r\n        rootClasses.push(style.active)\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className={rootClasses.join(' ')}\r\n            onClick={() => setVisible(false)}\r\n        >\r\n            <div\r\n                className={style.modContent}\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                {children}\r\n            </div>\r\n        </div >\r\n\r\n    )\r\n}\r\n\r\nexport default Mod","import { useMemo } from \"react\"\r\n\r\nexport const useSortedPosts = (posts, sort) => {\r\n\r\n    const sortedPosts = useMemo(() => {\r\n        if (sort)\r\n            return [...posts].sort((a, b) => a[sort].localeCompare(b[sort]))\r\n        return posts\r\n    }, [sort, posts])\r\n\r\n    return sortedPosts\r\n}\r\n\r\nexport const usePosts = (posts, sort, query) => {\r\n\r\n    const sortedPosts = useSortedPosts(posts, sort)\r\n\r\n    const sortedAndSearchedPosts = useMemo(() => {\r\n        return sortedPosts.filter(post =>\r\n            post.title.toLowerCase().includes(query.toLowerCase()))\r\n    }, [query, sortedPosts])\r\n\r\n    return sortedAndSearchedPosts\r\n\r\n}","export const getPageCount = (totalCount, limit) => {\r\n    return Math.ceil(totalCount / limit)\r\n}\r\n\r\nexport const getPagesArray = (totalPages) => {\r\n    let result = []\r\n    for (let i = 0; i < totalPages; i++) {\r\n        result.push(i + 1)\r\n    }\r\n    return result\r\n}","import React from 'react';\r\nimport { getPagesArray } from '../../../utils/pages';\r\n\r\nconst Pagination = ({ totalPages, page, changePage }) => {\r\n\r\n    let pagesArray = getPagesArray(totalPages)\r\n\r\n    return (\r\n        <div className='page__wrapper'>\r\n            {pagesArray.map(p =>\r\n                <span\r\n                    key={p}\r\n                    className={page === p ? 'page page__current' : 'page'}\r\n                    onClick={() => changePage(p)}\r\n                >\r\n                    {p}\r\n                </span>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination","import './../styles/App.css'\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport PostList from './../components/PostList';\r\nimport PostForm from './../components/PostForm';\r\nimport PostFilter from './../components/PostFilter';\r\nimport Mod from './../components/ui/modal/Mod';\r\nimport But from './../components/ui/button/But';\r\nimport { usePosts } from './../hooks/usePosts';\r\nimport PostService from './../api/PostService';\r\nimport Loader from './../components/ui/loader/Loader';\r\nimport { useFetch } from './../hooks/useFetch';\r\nimport { getPageCount } from './../utils/pages'\r\nimport Pagination from './../components/ui/pagination/Pagination';\r\nimport { useObserver } from '../hooks/useObserver';\r\nimport Sel from '../components/ui/select/Sel';\r\n\r\nfunction Posts() {\r\n\r\n    const [posts, setPosts] = useState([])\r\n    const [filter, setFilter] = useState({ sort: '', query: '' })\r\n    const [modal, setModal] = useState(false)\r\n    const [totalPages, setTotalPages] = useState(0)\r\n    const [limit, setLimit] = useState(10)\r\n    const [page, setPage] = useState(1)\r\n    const sortedAndSearchedPosts = usePosts(posts, filter.sort, filter.query)\r\n    const lastElement = useRef()\r\n\r\n    const changePage = (page) => {\r\n        setPage(page)\r\n    }\r\n\r\n    const [fetchPosts, isPostLoading, postError] = useFetch(async (limit, page) => {\r\n        const response = await PostService.getAll(limit, page)\r\n        setPosts([...posts, ...response.data])\r\n        const totalCount = response.headers['x-total-count']\r\n        setTotalPages(getPageCount(totalCount, limit))\r\n    })\r\n\r\n    useEffect(() => {\r\n        fetchPosts(limit, page)\r\n    }, [fetchPosts, page, limit])\r\n\r\n\r\n    useObserver(lastElement, page < totalPages, isPostLoading, () => {\r\n        setPage(page + 1)\r\n    })\r\n\r\n\r\n    const createPost = (newPost) => {\r\n        setPosts([...posts, newPost])\r\n        setModal(false)\r\n    }\r\n\r\n    // get a post form child component\r\n    const removePost = (post) => {\r\n        setPosts(posts.filter(p => p.id !== post.id))\r\n    }\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <But style={{ marginTop: 30 }} onClick={() => setModal(true)}>Create</But>\r\n            <Mod visible={modal} setVisible={setModal}>\r\n                <PostForm create={createPost} />\r\n            </Mod>\r\n            <hr />\r\n            <PostFilter\r\n                filter={filter}\r\n                setFilter={setFilter}\r\n            />\r\n            <Sel\r\n                value={limit}\r\n                onChange={(value) => setLimit(value)}\r\n                defaultValue='Elements count'\r\n                options={[\r\n                    { value: 5, name: '5' },\r\n                    { value: 10, name: '10' },\r\n                    { value: 25, name: '25' },\r\n                    { value: -1, name: 'Vese' },\r\n                ]}\r\n            />\r\n            {\r\n                postError &&\r\n                <h1>{postError}</h1>\r\n            }\r\n            <PostList remove={removePost} posts={sortedAndSearchedPosts} title='List' />\r\n            {\r\n                isPostLoading &&\r\n                <div style={{ display: 'flex', marginTop: 50, justifyContent: 'center' }}>\r\n                    <Loader />\r\n                </div>\r\n            }\r\n            <div ref={lastElement} style={{ height: 20, background: 'red' }} />\r\n            <Pagination\r\n                page={page}\r\n                changePage={changePage}\r\n                totalPages={totalPages}\r\n            />\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Posts","import About from \"../pages/About\";\r\nimport Login from \"../pages/Login\";\r\nimport PostIdPage from \"../pages/PostIdPage\";\r\nimport Posts from \"../pages/Posts\";\r\n\r\nexport const privateRoutes = [\r\n    { path: '/about', component: About, exact: true },\r\n    { path: '/posts', component: Posts, exact: true },\r\n    { path: '/posts/:id', component: PostIdPage, exact: true },\r\n]\r\n\r\nexport const publicRoutes = [\r\n    { path: '/login', component: Login, exact: true },\r\n]","import { useEffect, useRef } from \"react\"\r\n\r\nexport const useObserver = (ref, canLoad, isLoading, callback) => {\r\n\r\n    const observer = useRef()\r\n\r\n    useEffect(() => {\r\n\r\n        if (isLoading) return\r\n        if (observer.current) observer.current.disconnect()\r\n\r\n        let cb = (entries, observer) => {\r\n            if (entries[0].isIntersecting && canLoad)\r\n                callback()\r\n        }\r\n        observer.current = new IntersectionObserver(cb);\r\n        observer.current.observe(ref.current);\r\n    }, [isLoading, ref, canLoad, callback])\r\n\r\n}","import React, { useContext } from 'react'\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { AuthContext } from '../context/context';\r\nimport { privateRoutes, publicRoutes } from '../router/routes';\r\nimport Loader from './ui/loader/Loader';\r\n\r\nconst AppRouter = () => {\r\n\r\n    const { isAuth, isLoading } = useContext(AuthContext)\r\n\r\n    if (isLoading) {\r\n        return <Loader />\r\n    }\r\n\r\n    return (\r\n        isAuth\r\n            ?\r\n            <Switch>\r\n                {privateRoutes.map(route =>\r\n                    <Route\r\n                        component={route.component}\r\n                        path={route.path}\r\n                        key={route.path}\r\n                        exact={route.exact}\r\n                    />\r\n                )}\r\n                <Redirect to='/posts' />\r\n            </Switch >\r\n            :\r\n            <Switch>\r\n                {publicRoutes.map(route =>\r\n                    <Route\r\n                        component={route.component}\r\n                        path={route.path}\r\n                        key={route.path}\r\n                        exact={route.exact}\r\n                    />\r\n                )}\r\n                <Redirect to='/login' />\r\n            </Switch >\r\n    )\r\n}\r\n\r\nexport default AppRouter\r\n","import React, { useEffect } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport './styles/App.css'\nimport Navbar from './components/ui/navbar/Navbar';\nimport AppRouter from './components/AppRouter';\nimport { AuthContext } from './context/context';\nimport { useState } from 'react/cjs/react.development';\n\nconst App = () => {\n\n    const [isAuth, setIsAuth] = useState(false)\n    const [isLoading, setIsLoading] = useState(true)\n\n    useEffect(() => {\n        if (localStorage.getItem('auth')) {\n            setIsAuth(true)\n        }\n        setIsLoading(false)\n    }, [])\n\n    return (\n        <AuthContext.Provider value={{\n            isAuth,\n            setIsAuth,\n            isLoading\n        }}>\n            <BrowserRouter>\n                <Navbar />\n                <AppRouter />\n            </BrowserRouter>\n\n        </AuthContext.Provider>\n    )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);"],"sourceRoot":""}